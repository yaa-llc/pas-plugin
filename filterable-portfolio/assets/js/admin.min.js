!function(e){"use strict";function t(e){if(e){var t=new wp.shortcode({tag:"gallery",attrs:{ids:e},type:"single"}),r=wp.media.gallery.attachments(t),n=new wp.media.model.Selection(r.models,{props:r.props.toJSON(),multiple:!0});return n.gallery=r.gallery,n.more().done(function(){n.props.set({query:!1}),n.unmirror(),n.props.unset("orderby")}),n}return!1}var r,n,a,i,l,o,s,c,d;e('[data-modal="MediaFramePost"]').on("click",function(u){function g(){s.toolbar.get("view").set({insert:{style:"primary",text:o,click:function(){var e="",r="";s.state().get("library").each(function(t){e+=t.id+",",r+='<li><img width="75" height="75" src="'+t.attributes.sizes.thumbnail.url+'" class="attachment-75x75 size-75x75"></li>'}),this.el.innerHTML=l,d=t(e),n.find('input[type="hidden"]').val(e),n.find(".gallery_images_list").html(r),s.close()}}})}u.preventDefault(),r=e(this),n=r.closest(".gallery_images"),a=r.data("create"),i=r.data("edit"),l=r.data("progress"),o=r.data("save"),c=n.find('input[type="hidden"]').val(),d=t(c);var p={title:a,state:"gallery-edit",frame:"post",selection:d};(s||d)&&(p.title=i),(s=wp.media(p).open()).menu.get("view").unset("cancel"),s.menu.get("view").unset("separateCancel"),s.menu.get("view").get("gallery-edit").el.innerHTML=i,s.content.get("view").sidebar.unset("gallery"),g(),s.on("toolbar:render:gallery-edit",function(){g()}),s.on("content:render:browse",function(e){e&&(e.sidebar.on("ready",function(){e.sidebar.unset("gallery")}),e.toolbar.on("ready",function(){"gallery-library"===e.toolbar.controller._state&&e.toolbar.$el.hide()}))}),s.state().get("library").on("remove",function(){0===s.state().get("library").length&&(d=!1)})})}(jQuery),function(e){"use strict";e(".color-picker").each(function(){e(this).wpColorPicker({palettes:["#2196F3","#009688","#4CAF50","#F44336","#FFEB3B","#00D1B2","#000000","#ffffff"]})}),e(".datepicker").datepicker({changeMonth:!0,changeYear:!0,showAnim:"slideDown"})}(jQuery);